<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>{{ title or "NutriVision AI" }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            bg: '#0B0F18',
            card: '#111827',
            card2: '#0F172A',
            border: '#1F2937',
            primary: '#34D399',
            accent: '#60A5FA',
            danger: '#F87171'
          },
          boxShadow: {
            soft: '0 10px 30px rgba(0,0,0,0.35)'
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; }
    .phone { max-width: 430px; }
  </style>
</head>

<body class="bg-bg text-slate-100">
  <div class="min-h-screen flex justify-center">
    <div class="phone w-full px-4 pb-24">
      {% block content %}{% endblock %}

      {% if show_nav %}
      <!-- Bottom nav (CalAI-like) -->
      <div class="fixed left-1/2 -translate-x-1/2 bottom-0 w-full phone">
        <div class="px-4 pb-5">
          <div class="relative">
            <div class="bg-card border border-border rounded-3xl px-6 py-4 flex items-center justify-between shadow-soft">
              <a href="/dashboard" class="text-xs text-slate-200">
                <div class="flex flex-col items-center gap-1">
                  <span class="opacity-80">Home</span>
                </div>
              </a>
              <a href="/diary" class="text-xs text-slate-400">
                <div class="flex flex-col items-center gap-1">
                  <span class="opacity-80">Diary</span>
                </div>
              </a>
              <div class="w-12"></div>
              <a href="/scan" class="text-xs text-slate-400">
                <div class="flex flex-col items-center gap-1">
                  <span class="opacity-80">Scan</span>
                </div>
              </a>
              <a href="/coach" class="text-xs text-slate-400">
                <div class="flex flex-col items-center gap-1">
                  <span class="opacity-80">Coach</span>
                </div>
              </a>
            </div>

            <!-- Floating + button -->
            <div class="absolute -top-6 left-1/2 -translate-x-1/2">
              <a href="/scan" class="w-14 h-14 rounded-full bg-white text-bg flex items-center justify-center shadow-soft border border-slate-200">
                <span class="text-3xl leading-none">+</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

      {% endif %}

  {% block scripts %}{% endblock %}
</body>
</html>
